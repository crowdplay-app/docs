---
title: API Reference
description: Complete reference for the CrowdPlay REST API.
---

## Base URL

```
https://crowdplay-api-i1xh.onrender.com
```

All API endpoints are prefixed with `/api`.

## Authentication

CrowdPlay uses **JWT (JSON Web Tokens)** for authentication. Tokens are issued on login and stored as HTTP-only cookies.

For API requests, include the token as a **Bearer token** in the `Authorization` header:

```
Authorization: Bearer <your-jwt-token>
```

Or rely on the HTTP-only cookie set during login (used by the DJ dashboard).

### Protected Endpoints

Endpoints under `/api/sessions` and `/api/sessions/:id/*` require authentication. Public endpoints (stats, song search, fan endpoints) do not.

## Response Format

### Success

```json
{
  "data": { ... }
}
```

### Error

```json
{
  "error": "Error message describing what went wrong"
}
```

## Rate Limiting

There is no rate limiting on the current deployment. If self-hosting, consider adding rate limiting middleware (e.g. `express-rate-limit`).

## CORS

The API allows cross-origin requests from:
- The fan client URL (configured via `FAN_CLIENT_URL` environment variable)
- The DJ dashboard (same-origin)

## Content Type

All request bodies should be sent as `application/json`.

```
Content-Type: application/json
```
